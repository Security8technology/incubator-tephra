<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_151) on Tue Sep 04 23:45:10 PDT 2018 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>TransactionSystemClient (Apache Tephra 0.14.0-incubating API)</title>
<meta name="date" content="2018-09-04">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="TransactionSystemClient (Apache Tephra 0.14.0-incubating API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":38,"i2":6,"i3":6,"i4":38,"i5":6,"i6":6,"i7":6,"i8":6,"i9":6,"i10":6,"i11":6,"i12":6,"i13":6,"i14":6,"i15":6,"i16":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],32:["t6","Deprecated Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TransactionSystemClient.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/apache/tephra/TransactionSizeException.html" title="class in org.apache.tephra"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../org/apache/tephra/TransactionType.html" title="enum in org.apache.tephra"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/apache/tephra/TransactionSystemClient.html" target="_top">Frames</a></li>
<li><a href="TransactionSystemClient.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.tephra</div>
<h2 title="Interface TransactionSystemClient" class="title">Interface TransactionSystemClient</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../org/apache/tephra/inmemory/DetachedTxSystemClient.html" title="class in org.apache.tephra.inmemory">DetachedTxSystemClient</a>, <a href="../../../org/apache/tephra/inmemory/InMemoryTxSystemClient.html" title="class in org.apache.tephra.inmemory">InMemoryTxSystemClient</a>, <a href="../../../org/apache/tephra/inmemory/MinimalTxSystemClient.html" title="class in org.apache.tephra.inmemory">MinimalTxSystemClient</a>, <a href="../../../org/apache/tephra/distributed/TransactionServiceClient.html" title="class in org.apache.tephra.distributed">TransactionServiceClient</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="typeNameLabel">TransactionSystemClient</span></pre>
<div class="block">Client talking to transaction system.
 See also <a href="../../../org/apache/tephra/TransactionAware.html" title="interface in org.apache.tephra"><code>TransactionAware</code></a>.
 todo: explain Omid.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t6" class="tableTab"><span><a href="javascript:show(32);">Deprecated Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/apache/tephra/TransactionSystemClient.html#abort-org.apache.tephra.Transaction-">abort</a></span>(<a href="../../../org/apache/tephra/Transaction.html" title="class in org.apache.tephra">Transaction</a>&nbsp;tx)</code>
<div class="block">Makes transaction visible.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/apache/tephra/TransactionSystemClient.html#canCommit-org.apache.tephra.Transaction-java.util.Collection-">canCommit</a></span>(<a href="../../../org/apache/tephra/Transaction.html" title="class in org.apache.tephra">Transaction</a>&nbsp;tx,
         <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;byte[]&gt;&nbsp;changeIds)</code>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;
<div class="block"><span class="deprecationComment">since 0.13-incubating; use <a href="../../../org/apache/tephra/TransactionSystemClient.html#canCommitOrThrow-org.apache.tephra.Transaction-java.util.Collection-"><code>canCommitOrThrow(Transaction, Collection)</code></a> instead</span></div>
</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/apache/tephra/TransactionSystemClient.html#canCommitOrThrow-org.apache.tephra.Transaction-java.util.Collection-">canCommitOrThrow</a></span>(<a href="../../../org/apache/tephra/Transaction.html" title="class in org.apache.tephra">Transaction</a>&nbsp;tx,
                <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;byte[]&gt;&nbsp;changeIds)</code>
<div class="block">Checks if transaction with the set of changes can be committed.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="../../../org/apache/tephra/Transaction.html" title="class in org.apache.tephra">Transaction</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/apache/tephra/TransactionSystemClient.html#checkpoint-org.apache.tephra.Transaction-">checkpoint</a></span>(<a href="../../../org/apache/tephra/Transaction.html" title="class in org.apache.tephra">Transaction</a>&nbsp;tx)</code>
<div class="block">Performs a checkpoint operation on the current transaction, returning a new Transaction instance with the
 updated state.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/apache/tephra/TransactionSystemClient.html#commit-org.apache.tephra.Transaction-">commit</a></span>(<a href="../../../org/apache/tephra/Transaction.html" title="class in org.apache.tephra">Transaction</a>&nbsp;tx)</code>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;
<div class="block"><span class="deprecationComment">as of 0.13-incubating. Use <a href="../../../org/apache/tephra/TransactionSystemClient.html#canCommitOrThrow-org.apache.tephra.Transaction-java.util.Collection-"><code>canCommitOrThrow(Transaction, Collection)</code></a> instead.</span></div>
</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/apache/tephra/TransactionSystemClient.html#commitOrThrow-org.apache.tephra.Transaction-">commitOrThrow</a></span>(<a href="../../../org/apache/tephra/Transaction.html" title="class in org.apache.tephra">Transaction</a>&nbsp;tx)</code>
<div class="block">Makes transaction visible.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/apache/tephra/TransactionSystemClient.html#getInvalidSize--">getInvalidSize</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io">InputStream</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/apache/tephra/TransactionSystemClient.html#getSnapshotInputStream--">getSnapshotInputStream</a></span>()</code>
<div class="block">Retrieves the state of the transaction manager and send it as a stream.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/apache/tephra/TransactionSystemClient.html#invalidate-long-">invalidate</a></span>(long&nbsp;tx)</code>
<div class="block">Makes transaction invalid.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/apache/tephra/TransactionSystemClient.html#pruneNow--">pruneNow</a></span>()</code>
<div class="block">Trigger transaction pruning now.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/apache/tephra/TransactionSystemClient.html#resetState--">resetState</a></span>()</code>
<div class="block">Resets the state of the transaction manager.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code><a href="../../../org/apache/tephra/Transaction.html" title="class in org.apache.tephra">Transaction</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/apache/tephra/TransactionSystemClient.html#startLong--">startLong</a></span>()</code>
<div class="block">Starts new long transaction.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code><a href="../../../org/apache/tephra/Transaction.html" title="class in org.apache.tephra">Transaction</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/apache/tephra/TransactionSystemClient.html#startShort--">startShort</a></span>()</code>
<div class="block">Starts new short transaction.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code><a href="../../../org/apache/tephra/Transaction.html" title="class in org.apache.tephra">Transaction</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/apache/tephra/TransactionSystemClient.html#startShort-int-">startShort</a></span>(int&nbsp;timeout)</code>
<div class="block">Starts new short transaction.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/apache/tephra/TransactionSystemClient.html#status--">status</a></span>()</code>
<div class="block">Return the status of the transaction Manager</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/apache/tephra/TransactionSystemClient.html#truncateInvalidTx-java.util.Set-">truncateInvalidTx</a></span>(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&gt;&nbsp;invalidTxIds)</code>
<div class="block">Removes the given transaction ids from the invalid list.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/apache/tephra/TransactionSystemClient.html#truncateInvalidTxBefore-long-">truncateInvalidTxBefore</a></span>(long&nbsp;time)</code>
<div class="block">Removes all transaction ids started before the given time from invalid list.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="startShort--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startShort</h4>
<pre><a href="../../../org/apache/tephra/Transaction.html" title="class in org.apache.tephra">Transaction</a>&nbsp;startShort()</pre>
<div class="block">Starts new short transaction.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>instance of <a href="../../../org/apache/tephra/Transaction.html" title="class in org.apache.tephra"><code>Transaction</code></a></dd>
</dl>
</li>
</ul>
<a name="startShort-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startShort</h4>
<pre><a href="../../../org/apache/tephra/Transaction.html" title="class in org.apache.tephra">Transaction</a>&nbsp;startShort(int&nbsp;timeout)</pre>
<div class="block">Starts new short transaction.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>timeout</code> - the timeout for the transaction</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>instance of <a href="../../../org/apache/tephra/Transaction.html" title="class in org.apache.tephra"><code>Transaction</code></a></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if the provided timeout is negative or exceeds the configured maximum</dd>
</dl>
</li>
</ul>
<a name="startLong--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startLong</h4>
<pre><a href="../../../org/apache/tephra/Transaction.html" title="class in org.apache.tephra">Transaction</a>&nbsp;startLong()</pre>
<div class="block">Starts new long transaction.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>instance of <a href="../../../org/apache/tephra/Transaction.html" title="class in org.apache.tephra"><code>Transaction</code></a></dd>
</dl>
</li>
</ul>
<a name="canCommit-org.apache.tephra.Transaction-java.util.Collection-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>canCommit</h4>
<pre><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Deprecated.html?is-external=true" title="class or interface in java.lang">@Deprecated</a>
boolean&nbsp;canCommit(<a href="../../../org/apache/tephra/Transaction.html" title="class in org.apache.tephra">Transaction</a>&nbsp;tx,
                              <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;byte[]&gt;&nbsp;changeIds)
                       throws <a href="../../../org/apache/tephra/TransactionNotInProgressException.html" title="class in org.apache.tephra">TransactionNotInProgressException</a></pre>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;<span class="deprecationComment">since 0.13-incubating; use <a href="../../../org/apache/tephra/TransactionSystemClient.html#canCommitOrThrow-org.apache.tephra.Transaction-java.util.Collection-"><code>canCommitOrThrow(Transaction, Collection)</code></a> instead</span></div>
<div class="block">Checks if transaction with the set of changes can be committed. E.g. it can check conflicts with other changes and
 refuse commit if there are conflicts. It is assumed that no other changes will be done in between this method call
 and <a href="../../../org/apache/tephra/TransactionSystemClient.html#commitOrThrow-org.apache.tephra.Transaction-"><code>commitOrThrow(Transaction)</code></a> which will check conflicts again to avoid races.
 <p/>
 Since we do conflict detection at commit time as well, this may seem redundant. The idea is to check for conflicts
 before we persist changes to avoid rollback in case of conflicts as much as possible.
 NOTE: in some situations we may want to skip this step to save on RPC with a risk of many rollback ops. So by
       default we take safe path.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>tx</code> - transaction to verify</dd>
<dd><code>changeIds</code> - ids of changes made by transaction</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if transaction can be committed otherwise false</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../org/apache/tephra/TransactionNotInProgressException.html" title="class in org.apache.tephra">TransactionNotInProgressException</a></code> - if the transaction is not in progress; most likely it has timed out.</dd>
</dl>
</li>
</ul>
<a name="canCommitOrThrow-org.apache.tephra.Transaction-java.util.Collection-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>canCommitOrThrow</h4>
<pre>void&nbsp;canCommitOrThrow(<a href="../../../org/apache/tephra/Transaction.html" title="class in org.apache.tephra">Transaction</a>&nbsp;tx,
                      <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;byte[]&gt;&nbsp;changeIds)
               throws <a href="../../../org/apache/tephra/TransactionFailureException.html" title="class in org.apache.tephra">TransactionFailureException</a></pre>
<div class="block">Checks if transaction with the set of changes can be committed. E.g. it can check conflicts with other changes and
 refuse commit if there are conflicts. It is assumed that no other changes will be done in between this method call
 and <a href="../../../org/apache/tephra/TransactionSystemClient.html#commitOrThrow-org.apache.tephra.Transaction-"><code>commitOrThrow(Transaction)</code></a> which will check conflicts again to avoid races.
 <p/>
 Since we do conflict detection at commit time as well, this may seem redundant. The idea is to check for conflicts
 before we persist changes to avoid rollback in case of conflicts as much as possible.
 NOTE: in some situations we may want to skip this step to save on RPC with a risk of many rollback ops. So by
       default we take safe path.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>tx</code> - transaction to verify</dd>
<dd><code>changeIds</code> - ids of changes made by transaction</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../org/apache/tephra/TransactionSizeException.html" title="class in org.apache.tephra">TransactionSizeException</a></code> - if the size of the change set exceeds the allowed limit</dd>
<dd><code><a href="../../../org/apache/tephra/TransactionConflictException.html" title="class in org.apache.tephra">TransactionConflictException</a></code> - if the change set has a conflict with an overlapping transaction</dd>
<dd><code><a href="../../../org/apache/tephra/TransactionNotInProgressException.html" title="class in org.apache.tephra">TransactionNotInProgressException</a></code> - if the transaction is not in progress; most likely it has timed out</dd>
<dd><code><a href="../../../org/apache/tephra/TransactionFailureException.html" title="class in org.apache.tephra">TransactionFailureException</a></code></dd>
</dl>
</li>
</ul>
<a name="commit-org.apache.tephra.Transaction-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>commit</h4>
<pre><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Deprecated.html?is-external=true" title="class or interface in java.lang">@Deprecated</a>
boolean&nbsp;commit(<a href="../../../org/apache/tephra/Transaction.html" title="class in org.apache.tephra">Transaction</a>&nbsp;tx)
                    throws <a href="../../../org/apache/tephra/TransactionNotInProgressException.html" title="class in org.apache.tephra">TransactionNotInProgressException</a></pre>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;<span class="deprecationComment">as of 0.13-incubating. Use <a href="../../../org/apache/tephra/TransactionSystemClient.html#canCommitOrThrow-org.apache.tephra.Transaction-java.util.Collection-"><code>canCommitOrThrow(Transaction, Collection)</code></a> instead.</span></div>
<div class="block">Makes transaction visible. It will again check conflicts of changes submitted previously with
 <a href="../../../org/apache/tephra/TransactionSystemClient.html#canCommitOrThrow-org.apache.tephra.Transaction-java.util.Collection-"><code>canCommitOrThrow(Transaction, java.util.Collection)</code></a></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>tx</code> - transaction to make visible.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if transaction can be committed otherwise false</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../org/apache/tephra/TransactionNotInProgressException.html" title="class in org.apache.tephra">TransactionNotInProgressException</a></code></dd>
</dl>
</li>
</ul>
<a name="commitOrThrow-org.apache.tephra.Transaction-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>commitOrThrow</h4>
<pre>void&nbsp;commitOrThrow(<a href="../../../org/apache/tephra/Transaction.html" title="class in org.apache.tephra">Transaction</a>&nbsp;tx)
            throws <a href="../../../org/apache/tephra/TransactionFailureException.html" title="class in org.apache.tephra">TransactionFailureException</a></pre>
<div class="block">Makes transaction visible. It will again check conflicts of changes submitted previously with
 <a href="../../../org/apache/tephra/TransactionSystemClient.html#canCommitOrThrow-org.apache.tephra.Transaction-java.util.Collection-"><code>canCommitOrThrow(Transaction, java.util.Collection)</code></a></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>tx</code> - transaction to make visible.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../org/apache/tephra/TransactionConflictException.html" title="class in org.apache.tephra">TransactionConflictException</a></code> - if the transaction has a conflict with an overlapping transaction</dd>
<dd><code><a href="../../../org/apache/tephra/TransactionNotInProgressException.html" title="class in org.apache.tephra">TransactionNotInProgressException</a></code> - if the transaction is not in progress; most likely it has timed out</dd>
<dd><code><a href="../../../org/apache/tephra/TransactionFailureException.html" title="class in org.apache.tephra">TransactionFailureException</a></code></dd>
</dl>
</li>
</ul>
<a name="abort-org.apache.tephra.Transaction-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>abort</h4>
<pre>void&nbsp;abort(<a href="../../../org/apache/tephra/Transaction.html" title="class in org.apache.tephra">Transaction</a>&nbsp;tx)</pre>
<div class="block">Makes transaction visible. You should call it only when all changes of this tx are undone.
 NOTE: it will not throw <a href="../../../org/apache/tephra/TransactionNotInProgressException.html" title="class in org.apache.tephra"><code>TransactionNotInProgressException</code></a> if transaction has timed out.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>tx</code> - transaction to make visible.</dd>
</dl>
</li>
</ul>
<a name="invalidate-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>invalidate</h4>
<pre>boolean&nbsp;invalidate(long&nbsp;tx)</pre>
<div class="block">Makes transaction invalid. You should call it if not all changes of this tx could be undone.
 NOTE: it will not throw <a href="../../../org/apache/tephra/TransactionNotInProgressException.html" title="class in org.apache.tephra"><code>TransactionNotInProgressException</code></a> if transaction has timed out.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>tx</code> - transaction id to invalidate.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if transaction has been successfully invalidated</dd>
</dl>
</li>
</ul>
<a name="checkpoint-org.apache.tephra.Transaction-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkpoint</h4>
<pre><a href="../../../org/apache/tephra/Transaction.html" title="class in org.apache.tephra">Transaction</a>&nbsp;checkpoint(<a href="../../../org/apache/tephra/Transaction.html" title="class in org.apache.tephra">Transaction</a>&nbsp;tx)
                throws <a href="../../../org/apache/tephra/TransactionNotInProgressException.html" title="class in org.apache.tephra">TransactionNotInProgressException</a></pre>
<div class="block">Performs a checkpoint operation on the current transaction, returning a new Transaction instance with the
 updated state.  A checkpoint operation assigns a new write pointer for the current transaction.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>tx</code> - the current transaction to checkpoint</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an updated transaction instance with the new write pointer</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../org/apache/tephra/TransactionNotInProgressException.html" title="class in org.apache.tephra">TransactionNotInProgressException</a></code></dd>
</dl>
</li>
</ul>
<a name="getSnapshotInputStream--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSnapshotInputStream</h4>
<pre><a href="http://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io">InputStream</a>&nbsp;getSnapshotInputStream()
                            throws <a href="../../../org/apache/tephra/TransactionCouldNotTakeSnapshotException.html" title="class in org.apache.tephra">TransactionCouldNotTakeSnapshotException</a></pre>
<div class="block">Retrieves the state of the transaction manager and send it as a stream. The snapshot will not be persisted.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an input stream containing an encoded snapshot of the transaction manager</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../org/apache/tephra/TransactionCouldNotTakeSnapshotException.html" title="class in org.apache.tephra">TransactionCouldNotTakeSnapshotException</a></code></dd>
</dl>
</li>
</ul>
<a name="status--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>status</h4>
<pre><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;status()</pre>
<div class="block">Return the status of the transaction Manager</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a String which denotes the status of txManager</dd>
</dl>
</li>
</ul>
<a name="resetState--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resetState</h4>
<pre>void&nbsp;resetState()</pre>
<div class="block">Resets the state of the transaction manager.</div>
</li>
</ul>
<a name="truncateInvalidTx-java.util.Set-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>truncateInvalidTx</h4>
<pre>boolean&nbsp;truncateInvalidTx(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&gt;&nbsp;invalidTxIds)</pre>
<div class="block">Removes the given transaction ids from the invalid list.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>invalidTxIds</code> - transaction ids</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if invalid list got changed, false otherwise</dd>
</dl>
</li>
</ul>
<a name="truncateInvalidTxBefore-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>truncateInvalidTxBefore</h4>
<pre>boolean&nbsp;truncateInvalidTxBefore(long&nbsp;time)
                         throws <a href="../../../org/apache/tephra/InvalidTruncateTimeException.html" title="class in org.apache.tephra">InvalidTruncateTimeException</a></pre>
<div class="block">Removes all transaction ids started before the given time from invalid list.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>time</code> - time in milliseconds</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if invalid list got changed, false otherwise</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../org/apache/tephra/InvalidTruncateTimeException.html" title="class in org.apache.tephra">InvalidTruncateTimeException</a></code> - if there are any in-progress transactions started before given time</dd>
</dl>
</li>
</ul>
<a name="getInvalidSize--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInvalidSize</h4>
<pre>int&nbsp;getInvalidSize()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the size of invalid list</dd>
</dl>
</li>
</ul>
<a name="pruneNow--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>pruneNow</h4>
<pre>void&nbsp;pruneNow()</pre>
<div class="block">Trigger transaction pruning now.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TransactionSystemClient.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/apache/tephra/TransactionSizeException.html" title="class in org.apache.tephra"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../org/apache/tephra/TransactionType.html" title="enum in org.apache.tephra"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/apache/tephra/TransactionSystemClient.html" target="_top">Frames</a></li>
<li><a href="TransactionSystemClient.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2018 <a href="http://www.apache.org">The Apache Software Foundation</a>. All rights reserved.</small></p>
</body>
</html>
